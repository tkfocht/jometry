<html>
    <head>
        <title>J!ometry: Jeopardy! Data Visualizations</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto">
        <link rel="stylesheet" href="css/site.css"></link>
        <script src="/js/d3/d3.v7.min.js"></script>
        <script src="/js/util/util.v3.js"></script>
    </head>
    <body>
        <div id="header">
            <div id="site-mast">J!ometry</div>
            <div id="navigation">
                <span class="navigation-item"><a href="/">Home</a></span>
                <span class="navigation-item"><a href="/glossary.html">Glossary</a></span>
            </div>
        </div>

        <div class="toc-period" id="TOC2022">
            <div class="toc-period-header">TOC 2022 Qualification</div>
            <div class="toc-period-play-class" id="TOC2022R">
                <div class="toc-period-play-class-header">
                    <span class="toc-period-play-class-label">Regular Play</span>
                    <span class="toc-period-play-class-item"><a class="toc-period-play-class-navigation-item" href="/toc_period.html?toc_period=TOC2022R">Leaders</a></span>
                </div>
                <div class="toc-period-play-class-controls">
                    <span class="toc-period-play-class-control show-games">Show Games</span>
                    <span class="toc-period-play-class-control hide-games" style="display: none">Hide Games</span>
                </div>
                <div class="toc-period-play-game-list" style="display: none">
                    <table class="game-list">
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div class="toc-period-play-class" id="NCC2022">
                <div class="toc-period-play-class-header">
                    <span class="toc-period-play-class-label">2022 National College Championship</span>
                    <span class="toc-period-play-class-item"><a class="toc-period-play-class-navigation-item" href="/toc_period.html?toc_period=NCC2022&contestants=4066,4070,4064,4045,4059,4076,4050,4060,4074,4052,4056,4080">Semifinalists</a></span>
                </div>
                <div class="toc-period-play-class-controls">
                    <span class="toc-period-play-class-control show-games">Show Games</span>
                    <span class="toc-period-play-class-control hide-games" style="display: none">Hide Games</span>
                </div>
                <div class="toc-period-play-game-list" style="display: none">
                    <table class="game-list">
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <div class="toc-period-play-class" id="TOC2022P">
                <div class="toc-period-play-class-header">
                    <span class="toc-period-play-class-label">2021 Professors Tournament</span>
                    <span class="toc-period-play-class-item"><a class="toc-period-play-class-navigation-item" href="/toc_period.html?toc_period=TOC2022P&contestants=877,881,884,883,876,874,871,873,885">Semifinalists</a></span>
                </div>
                <div class="toc-period-play-class-controls">
                    <span class="toc-period-play-class-control show-games">Show Games</span>
                    <span class="toc-period-play-class-control hide-games" style="display: none">Hide Games</span>
                </div>
                <div class="toc-period-play-game-list" style="display: none">
                    <table class="game-list">
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="toc-period" id="TOC2021">
            <div class="toc-period-header">TOC 2021 Qualification</div>
            <div class="toc-period-play-class" id="TOC2021R">
                <div class="toc-period-play-class-header">
                    <span class="toc-period-play-class-label">Regular Play</span>
                    <span class="toc-period-play-class-item"><a class="toc-period-play-class-navigation-item" href="/toc_period.html?toc_period=TOC2021R">Leaders</a></span>
                </div>
                <div class="toc-period-play-class-controls">
                    <span class="toc-period-play-class-control show-games">Show Games</span>
                    <span class="toc-period-play-class-control hide-games" style="display: none">Hide Games</span>
                </div>
                <div class="toc-period-play-game-list" style="display: none">
                    <table class="game-list">
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="toc-period" id="TOC2019">
            <div class="toc-period-header">TOC 2019 Qualification</div>
            <div class="toc-period-play-class" id="TOC2019R">
                <div class="toc-period-play-class-header">
                    <span class="toc-period-play-class-label">Regular Play</span>
                    <span class="toc-period-play-class-item"><a class="toc-period-play-class-navigation-item" href="/toc_period.html?toc_period=TOC2019R">Leaders</a></span>
                </div>
                <div class="toc-period-play-class-controls">
                    <span class="toc-period-play-class-control show-games">Show Games</span>
                    <span class="toc-period-play-class-control hide-games" style="display: none">Hide Games</span>
                </div>
                <div class="toc-period-play-game-list" style="display: none">
                    <table class="game-list">
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="footer">
            <p>This site is not affiliated with Jeopardy!. Data is taken from their published <a href="https://www.jeopardy.com/jbuzz/news-events/jeopardy-daily-box-scores">box scores.</a></p>
        </div>
        <script type="text/javascript">
            var renderTocPeriodAndTypeSection = function(
                tocPeriodId,
                data
            ) {
                data.forEach(function(d) {
                    d['Date'] = csvDateParse(d['Date']);
                });
                data = Array.from(d3.group(data, d => d['Jometry Game Id']),
                    ([gameId,gameData]) => [
                        gameId,
                        gameData[0]['Date'],
                        gameData[0]['Contestant'], gameData[1]['Contestant'], gameData[2]['Contestant'],
                        gameData[0]['Season'],
                        gameData[0]['Game In Season']]);
                data.sort(d => d[0]);
                data.reverse();

                d3.select("#" + tocPeriodId + " table.game-list tbody").selectAll('tr')
                    .data(data)
                    .enter()
                    .append('tr')
                    .html(function(d) {
                        return '<td><a href="game.html?toc_period_id=' + tocPeriodId + '&game_id=' + d[0] + '">Season ' + d[5] + ' Game ' + d[6] + '</a></td>' +
                            '<td>' + dateFormat(d[1]) + '</td>' +
                            '<td>' + d.slice(2,5).join(' vs ') + '</td>';
                    });
                
                    d3.select('#' + tocPeriodId + ' span.show-games')
                        .on('click', function() {
                            d3.select(this).style('display', 'none');
                            d3.select('#' + tocPeriodId + ' .toc-period-play-game-list').style('display','block');
                            d3.select('#' + tocPeriodId + ' span.hide-games').style('display', 'inline');
                        });
                    d3.select('#' + tocPeriodId + ' span.hide-games')
                        .on('click', function(ev) {
                            d3.select(this).style('display', 'none');
                            d3.select('#' + tocPeriodId + ' .toc-period-play-game-list').style('display', 'none');
                            d3.select('#' + tocPeriodId + ' span.show-games').style('display', 'inline');
                        });
            }

            for (const tocPeriodId of ['TOC2022R','NCC2022','TOC2022P','TOC2021R','TOC2019R']) {
                d3.csv(csvUrlForTocPeriod(tocPeriodId)).then(function(data) {
                    renderTocPeriodAndTypeSection(tocPeriodId, data);
                });
            }
        </script>
    </body>
</html>